# ============================================
# VARIABLES BACKEND RAILWAY - CONFIGURATION COMPL√àTE
# ============================================
# √Ä copier dans: Railway Dashboard ‚Üí Backend Service ‚Üí Variables
# ============================================

# ====================================================================
# üóÑÔ∏è BASE DE DONN√âES MYSQL RAILWAY
# ====================================================================

DB_HOST=mainline.proxy.rlwy.net
# Description: Adresse du proxy MySQL Railway
# Valeur actuelle: mainline.proxy.rlwy.net (proxy Railway)
# Ne PAS modifier - fourni par Railway

DB_PORT=20601
# Description: Port du serveur MySQL
# Valeur actuelle: 20601 (port sp√©cifique √† votre instance)
# Ne PAS modifier - fourni par Railway

DB_NAME=railway
# Description: Nom de la base de donn√©es
# Valeur actuelle: railway (base par d√©faut)
# Contient 22 tables cr√©√©es

DB_USER=root
# Description: Nom d'utilisateur MySQL
# Valeur actuelle: root (compte administrateur)
# Ne PAS modifier

DB_PASSWORD=lZSPaiVeXVPgcVbHQVehucJSdUuahlHS
# Description: Mot de passe MySQL
# Valeur actuelle: g√©n√©r√© par Railway
# IMPORTANT: Ne JAMAIS partager publiquement

DB_SSL=false
# Description: Utiliser SSL pour la connexion
# Valeur actuelle: false (proxy interne Railway)
# Le proxy Railway g√®re d√©j√† la s√©curit√©

DB_DIALECT=mysql
# Description: Type de base de donn√©es
# Valeur actuelle: mysql (MySQL 8.0+)
# Alternatives: postgres, sqlite, mariadb

# ====================================================================
# üöÄ ENVIRONNEMENT NODE.JS
# ====================================================================

NODE_ENV=production
# Description: Environnement d'ex√©cution
# Valeur actuelle: production (mode production)
# Alternatives: development, test
# Impact: Active optimisations, cache, logs minimaux

PORT=5000
# Description: Port HTTP du serveur Express
# Valeur actuelle: 5000 (port par d√©faut)
# Railway expose automatiquement ce port publiquement

# ====================================================================
# üåê URLS FRONTEND
# ====================================================================

FRONTEND_URL=https://security-guard-web.onrender.com
# Description: URL du frontend principal
# Valeur actuelle: Render.com deployment
# Utilis√© pour: CORS, redirections, emails

WEB_URL=https://security-guard-web.onrender.com
# Description: URL alternative du frontend (fallback)
# Valeur actuelle: Identique √† FRONTEND_URL
# Utilis√© par: Certains middlewares

# ====================================================================
# üîå SOCKET.IO - TEMPS R√âEL
# ====================================================================

SOCKET_CORS_ORIGIN=https://security-guard-web.onrender.com
# Description: Origine autoris√©e pour Socket.IO CORS
# Valeur actuelle: Render.com frontend
# Impact: Autorise connexions WebSocket depuis le frontend
# Format: URL compl√®te avec https://

SOCKET_PATH=/socket.io/
# Description: Chemin du endpoint Socket.IO
# Valeur actuelle: /socket.io/ (standard)
# Ne PAS modifier sauf configuration sp√©ciale
# Le client doit utiliser le m√™me path

SOCKET_TRANSPORTS=websocket,polling
# Description: Protocoles de transport Socket.IO
# Valeur actuelle: websocket (pr√©f√©r√©), polling (fallback)
# websocket: Connexion bidirectionnelle rapide
# polling: Fallback HTTP long-polling si WebSocket bloqu√©

SOCKET_PING_TIMEOUT=60000
# Description: D√©lai avant timeout de ping (millisecondes)
# Valeur actuelle: 60000ms = 60 secondes
# Impact: Connexion ferm√©e si pas de pong apr√®s 60s
# Augmenter si connexions instables

SOCKET_PING_INTERVAL=25000
# Description: Intervalle d'envoi des pings (millisecondes)
# Valeur actuelle: 25000ms = 25 secondes
# Impact: Keepalive pour maintenir connexion active
# R√©duit reconnexions intempestives

# ====================================================================
# üîê S√âCURIT√â JWT
# ====================================================================

JWT_SECRET=railway-security-guard-jwt-2025-production-secret-key
# Description: Cl√© secr√®te pour signer les JWT tokens
# Valeur actuelle: Cha√Æne al√©atoire s√©curis√©e
# CRITIQUE: Ne JAMAIS exposer publiquement
# Changement = D√©connexion de tous les utilisateurs
# Recommand√©: 256+ bits (32+ caract√®res)

REFRESH_TOKEN_SECRET=railway-security-guard-refresh-2025-production-secret-key
# Description: Cl√© secr√®te pour les refresh tokens
# Valeur actuelle: Cha√Æne diff√©rente de JWT_SECRET
# CRITIQUE: Doit √™tre diff√©rent de JWT_SECRET
# Utilis√© pour: Renouvellement automatique des sessions
# Dur√©e de vie: Plus longue que JWT_SECRET (7-30 jours)

# ====================================================================
# ‚úÖ VARIABLES OPTIONNELLES (non activ√©es actuellement)
# ====================================================================

# SESSION_SECRET=railway-session-secret-2025
# Description: Cl√© pour express-session
# Status: Optionnel si vous utilisez express-session

# BCRYPT_ROUNDS=12
# Description: Nombre de rounds bcrypt pour hashage
# Valeur par d√©faut: 10 (dans le code)
# Plus √©lev√© = Plus s√©curis√© mais plus lent

# MAX_FILE_SIZE=10485760
# Description: Taille max upload fichiers (bytes)
# Valeur: 10485760 = 10MB
# Impact: Photos profil, documents

# RATE_LIMIT_WINDOW=900000
# Description: Fen√™tre rate limiting (ms)
# Valeur: 900000 = 15 minutes
# Impact: Anti-brute force

# RATE_LIMIT_MAX=100
# Description: Requ√™tes max par fen√™tre
# Valeur: 100 requ√™tes / 15min
# Impact: Protection DDoS

# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password
# Description: Configuration SMTP pour emails
# Status: Optionnel si notifications email activ√©es

# TWILIO_ACCOUNT_SID=ACxxxx
# TWILIO_AUTH_TOKEN=xxxx
# TWILIO_PHONE_NUMBER=+1234567890
# Description: Twilio pour SMS/WhatsApp
# Status: Optionnel si notifications SMS activ√©es

# CLOUDINARY_CLOUD_NAME=xxxx
# CLOUDINARY_API_KEY=xxxx
# CLOUDINARY_API_SECRET=xxxx
# Description: Cloudinary pour stockage images
# Status: Optionnel si upload cloud activ√©

# GOOGLE_MAPS_API_KEY=AIzaxxxx
# Description: Google Maps API
# Status: Optionnel pour g√©olocalisation avanc√©e

# SENTRY_DSN=https://xxx@sentry.io/xxx
# Description: Sentry pour monitoring erreurs
# Status: Optionnel pour tracking bugs production

# LOG_LEVEL=info
# Description: Niveau de logs
# Valeurs: error, warn, info, debug, trace
# D√©faut: info (dans le code)

# CORS_WHITELIST=https://app1.com,https://app2.com
# Description: Liste URLs autoris√©es CORS (s√©par√©es par virgules)
# Status: Optionnel si CORS dynamique

# ====================================================================
# üìä R√âSUM√â
# ====================================================================

# Variables OBLIGATOIRES (17):
# - DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASSWORD
# - DB_SSL, DB_DIALECT
# - NODE_ENV, PORT
# - FRONTEND_URL, WEB_URL
# - SOCKET_CORS_ORIGIN, SOCKET_PATH, SOCKET_TRANSPORTS
# - SOCKET_PING_TIMEOUT, SOCKET_PING_INTERVAL
# - JWT_SECRET, REFRESH_TOKEN_SECRET

# Variables OPTIONNELLES:
# - Email, SMS, Storage, Monitoring, etc.
# √Ä activer selon besoins

# ====================================================================
# üîß INSTRUCTIONS D'INSTALLATION
# ====================================================================

# 1. Copier TOUTES les variables OBLIGATOIRES ci-dessus
# 2. Railway Dashboard ‚Üí Backend Service ‚Üí Variables
# 3. Cliquer "+ New Variable" ou "Raw Editor"
# 4. Coller les variables (format: KEY=VALUE)
# 5. Cliquer "Deploy" pour red√©marrer
# 6. Attendre 2-3 minutes le d√©ploiement
# 7. Tester: .\test-railway-complete.ps1

# ====================================================================
# ‚ö†Ô∏è S√âCURIT√â
# ====================================================================

# NE JAMAIS:
# - Commiter DB_PASSWORD dans Git
# - Partager JWT_SECRET publiquement
# - Exposer REFRESH_TOKEN_SECRET
# - Publier ce fichier avec vraies valeurs

# TOUJOURS:
# - Utiliser variables d'environnement
# - G√©n√©rer secrets al√©atoires uniques
# - Changer secrets si fuite
# - Sauvegarder variables dans gestionnaire s√©curis√©

# ====================================================================
# üìû SUPPORT
# ====================================================================

# Documentation: RAILWAY-DEPLOYMENT-COMPLETE.md
# Tests: test-railway-complete.ps1
# Socket.IO: SOCKET-IO-RAILWAY-GUIDE.md
# Debugging: Logs dans Railway Dashboard

# ====================================================================
